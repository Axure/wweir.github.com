<!DOCTYPE html>
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta http-equiv="X-UA-Compatible" content="IE=7">
<title>Arch安装小结-wweir's blog</title>
<link rel="icon" href="../favicon.ico" type="image/x-icon">
<link rel="stylesheet" type="text/css" href="../styles.css">
<link rel="stylesheet" type="text/css" href="../font-awesome.css">
<link href="https://github.com/wweir/wweir.github.com/commits/master.atom" rel="alternate" title="wweir's blog的最新更改" type="application/atom+xml"/> 
<meta name="author" content="wweir">
<meta name="application-name" content="Arch安装小结">
<!--[if IE 7]>
<script src="../html5.js" defer='defer'></script>
<link rel="stylesheet" type="text/css" href="../font-awesome-ie7.css" />
<![endif]-->
<style type="text/css"></style></head>
<body class="bg">
<header>
<h1 id="logo"><a href="../">wweir's blog</a></h1>
</header>
<div id="body">
<div class="content">
<div class="article">
<h1>Arch安装小结</h1>
<!--<p class="metas">%strtime%</p>-->


<ol>
<li>
下载iso文件

<li>
<code class="prettyprint">dd if=arch*.iso of=/dev/sd[a,b,c,d]</code>

<li>
usb启动

<li>
<a href="测试Arch安装环境网络.html">测试Arch安装环境网络</a>

<li>
<code class="prettyprint">cfdisk</code>

<li>
<code class="prettyprint">mkfs.ext4 /dev/sda[1,2,3,4,]</code>

<li>
<code class="prettyprint">mkswap /dev/sda*</code>

<li>
<code class="prettyprint">swapon /dev/sda*</code>

<li>
<code class="prettyprint">mount /dev/sda* /mnt/{,home/,……}</code>

<li>
<code class="prettyprint">vi /etc/pacman.d/mirrors</code>

<li>
<code class="prettyprint">pacstrap /mnt base base-devel vim syslinux net-tools wpa_supplicant netcfg dialog</code>

<li>
<code class="prettyprint">genfstab -p /mnt &gt;&gt; /mnt/etc/fstab</code>

<li>
<code class="prettyprint">arch-chroot /mnt</code>

<li>
<code class="prettyprint">vim /etc/fstab</code> 加入参数<code class="prettyprint">noauto,x-systemd.automount</code>

<li>
<code class="prettyprint">vim /boot/syslinux/syslinux.conf</code>

<li>
<code class="prettyprint">syslinux-install_update -iam</code>

<li>
<code class="prettyprint">pacman -S wqy-microhei</code>

<li>
<code class="prettyprint">[vi, nano] /etc/locale.gen</code>

<li>
<code class="prettyprint">locale-gen</code>

<li>
<code class="prettyprint">hwclock --systohc --utc</code>

<li>
<code class="prettyprint">mkinitcpio -p linux</code>

<li>
<code class="prettyprint">passwd</code>

<li>
<code class="prettyprint">useradd -m -g users -s /bin/bash (username)</code>

<li>
<code class="prettyprint">passwd (username)</code>

<li>
<code class="prettyprint">pacman -S sudo</code>

<li>
<code class="prettyprint">visudo</code>

<li>
<code class="prettyprint">&lt;C-D&gt;</code>

<li>
<code class="prettyprint">umount /mnt/{,home/,mnt/}</code>

<li>
<code class="prettyprint">reboot</code>

<li>
<code class="prettyprint">hostnamectl set-hostname Archlinux</code>

<li>
<code class="prettyprint">timedatectl set-timezone Asia/Shanghai</code>

<li>
<code class="prettyprint">localectl set-locale LANG="zh_CN.UTF-8"</code>

<li>
<code class="prettyprint">timedatectl set-local-rtc false</code>

<li>
开启DHCP自动开启<code class="prettyprint">systemctl enable dhcpcd@[wlan0,eth0].service</code>

<li>
<code class="prettyprint">reboot</code>

</ol>
<hr />
<ol>
<li>
<code class="prettyprint">pacman -S xorg-sever xorg-xinit xorg-utils xorg-server-utils alsa-utils</code>

<li>
<code class="prettyprint">pacman -S mesa xf86-video-[intel,ati]/nvidia xf86-input-synaptics</code>

<li>
<code class="prettyprint">startx</code>

<li>
<code class="prettyprint">grep EE /var/log/Xorg.0.log</code>

<li>
安装上一步缺的东西

<li>
安装桌面环境

</ol>
<hr />
<h4 id="toc_0.0.0.1">安装yaourt</h4>
<p>
<strong>yaourt使用中无需root权限</strong>
</p>
<ol>
<li>
<code class="prettyprint">vim /etc/pacman.d/mirrors</code>

<li>
加入
<pre class="prettyprint linenums">
[archlinuxfr]
SigLevel = Optional TrustAll
 Server = http://repo.archlinux.fr/$arch
</pre>

<li>
<code class="prettyprint">pacman -S yajl</code>

<li>
<code class="prettyprint">pacman -S yaourt</code>

<li>
<code class="prettyprint">yaourt -Syua</code>

<li>
<code class="prettyprint">pacman -S yaourt</code>

</ol>


</div>
<link rel="stylesheet" type="text/css" href="../google-code-prettify/prettify.css">
<script src=../google-code-prettify/run_prettify.js></script>
<script src=../google-code-prettify/prettify.js></script>
<!-- Duoshuo Comment BEGIN -->
	<div class="ds-thread"></div>
<script type="text/javascript" defer='defer'>
var duoshuoQuery = {short_name:"wweir"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- Duoshuo Comment END -->

</div>
</div>

<footer>

<div id="footnote"> 
<p>
<a rel="license"
href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/"><img
alt="知识共享许可协议" style="border-width:0" src="../88x31.png" /></a><br />本<span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" rel="dct:type">作品</span>由<a xmlns:cc="http://creativecommons.org/ns#" href="http://weiki.tk/" property="cc:attributionName" rel="cc:attributionURL">温习江湖</a>创作，采用<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/">知识共享署名-非商业性使用-相同方式共享 3.0 中国大陆许可协议</a>进行许可。
</p>
</div>
</footer>
</body></html>
